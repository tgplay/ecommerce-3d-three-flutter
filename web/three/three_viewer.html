import 'dart:html' as html;
import 'dart:ui' as ui;

import 'package:flutter/material.dart';

void main() {
  // Registra um "platform view" do tipo iframe (web-only)
  // ignore: undefined_prefixed_name
  ui.platformViewRegistry.registerViewFactory(
    'three-iframe',
    (int viewId) => html.IFrameElement()
      ..src = 'three_viewer.html'
      ..style.border = 'none'
      ..style.width = '100%'
      ..style.height = '100%',
  );

  runApp(const MyApp());
}

class MyApp extends StatelessWidget {
  const MyApp({super.key});

  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      home: Scaffold(
        appBar: AppBar(title: const Text('E-commerce 3D (demo)')),
        body: const HtmlElementView(viewType: 'three-iframe'),
      ),
    );
  }
}
